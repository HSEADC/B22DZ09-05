body.index {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: var(--book_paper);

  // .Q_LineHeader {
  //   width: 100%;
  //   border: 1px solid #CCBBA3;
  // }

  .SO_Wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 79.69vw;
    margin-top: 3.33vw;
  }
  h3 {
    color: var(--almost-black, #302b29);
    text-align: center;
    /* h3_CardHeader */
    font-family: 'TT Livret Subhead';
    font-size: 48px;
    font-style: normal;
    font-weight: 400;
    line-height: 120%; /* 57.6px */
  }
  p {
    color: var(--almost-black);
    /* p_Maintext */
    font-family: HelveticaNeueCyr;
    font-size: 22px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;

    &:hover {
      cursor: pointer;
      color: var(--dusty_brick);
    }
  }
  h4 {
    color: var(--almost-black, #302b29);
    /* H4_Filtration */
    font-family: 'TT Livret Subhead';
    font-size: 28px;
    font-style: normal;
    font-weight: 400;
    line-height: normal;

    &:hover {
      cursor: pointer;
      color: var(--dusty_brick);
    }
  }
  


// Количество картиночек внутри слайдера-карусели
    $nb-slides: 5;

    .line {
      width: 100%;
    }

    .flex {
      display: flex;
    }

    .center {
      @extend .flex;
      align-items: center; // horizontal
      justify-content: center; // vertical
    }


    .carousel-wrapper {
      @extend .flex;
      position: relative;
      max-width: 1540px;
      margin: 30px;

      input {
        display: none;
      }
    }


    // Сам слайдер с картинками
    .carousel {
      @extend .line;
      overflow: hidden;
      border-radius: 8px;

      ul {
        @extend .center;
        position: relative;
        list-style: none;
        overflow: hidden;

        margin: 0;
        padding: 0 auto;
        height: 400px;
        width: 100% * $nb-slides;

        transition: left .8s cubic-bezier(0.77, 0, 0.175, 1);
      }

      li {
        @extend .line;

        img {
          @extend .line;
          border-radius: 8px;
        }
      }
    }


// Точки снизу
    .nav-dot {
      $dot-size: 12px;
      position: absolute;
      cursor: pointer;

      margin-left: -$dot-size / 2;
      bottom: -$dot-size * 2.2;
      width: $dot-size;
      height: $dot-size;

      opacity: 0.5;
      background-color: #CCBBA3;
      border-radius: 50%;
      transition: .4s;

      &:hover {
        opacity: 0.8;
        transform: scale(1.2);
        background-color: #E78B5D;
      }

      &:active {
        background-color: #E78B5D;
        transform: scale(0.9);
      }
    }

// goes from 1 to 5.
    @for $n from 1 through $nb-slides {
      // arranges the navigation dots horizontally
      .nav-dot[for=slide#{$n}] {
        left: 50% + ((($n - 1) - (($nb-slides - 1)/ 2)) * 5%);
      }

      #slide#{$n}:checked {
        // moves the carousel to the right slide
        & ~ .carousel ul { left: -100% * ($n - 1) }

        // highlights the selected navigation dot
          & ~ .nav-dot[for=slide#{$n}] {
          opacity: 1;
        }
      }
    }


    // Стрелки чтобы листать

    %arrow {
      $arrow-size: 60px;
      display: none;  // hidden by default
      position: absolute;

      cursor: pointer;
      font-weight: 400;


      top: 50%;
      z-index: 1;
      opacity: .7;
      margin-top: -$arrow-size / 2;
      height: $arrow-size;
      font-size: $arrow-size;
      transition: .2s;

      
  

      &:hover {
        opacity: 1;
        transform: scale(1.2);
      }

      &:active {
        transform: scale(0.9);
      }
    }

    .left-arrow {
      @extend %arrow;
      left: 15px;
      color: #CCBBA3;
    
    }

    .right-arrow {
      @extend %arrow;
      right: 15px;
      color: #CCBBA3;
    }

    @function custom-modulo($n) {
      // this function returns '$n % $nb-slides', except that if the result is 0,
      // '$nb-slides' is returned.
      // for exemple, for $nb-slides = 4, possible values are {1, 2, 3, 4}
      // (and not {0, 1, 2, 3}).
      @return 1 + ($nb-slides + (($n - 1) % $nb-slides)) % $nb-slides;
    }

    @for $n from 1 through $nb-slides {
      // when the nth slide is selected,
      // displays the left-arrow that goes to the (n-1)th slide
      // and the right arrow that goes to the (n+1)th slide.
      // don't worry, it loops thanks to the 'custom-modulo' function !

      #slide#{$n}:checked {
      & ~ .left-arrow[for=slide#{custom-modulo($n - 1)}],
        & ~ .right-arrow[for=slide#{custom-modulo($n + 1)}] {
          display: block;
        }
      }
    }



}
